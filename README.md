# Money_transfer_application
Создание консольного приложение для денежных переводов.

- Для написания программ использовалась версия Java 8.
- Для форматирования кода использовались стандарты Oracle.
- Код каждого задания находиться в папке src в соответствующей директории.


## Contents
1. [Exercise 00 – Models](#exercise-00-models)
2. [Exercise 01 – ID Generator](#exercise-01-id-generator)
3. [Exercise 02 – List of Users](#exercise-02-list-of-users)
4. [Exercise 03 – List of Transactions](#exercise-03-list-of-transactions)
5. [Exercise 04 – Business Logic](#exercise-04-business-logic)
6. [Exercise 05 – Menu](#exercise-05-menu)

## Introduction
В данных заданиях выполнена пошаговая реализация программы для автоматизации 
переводов определенных сумм между разными участниками.
Каждый пользователь системы может перевести определенную сумму другому пользователю.
Необходимо убедиться, что даже если мы потеряем историю входящих и
исходящих переводов для конкретного пользователя, мы все равно сможем восстановить эту информацию.
Внутри системы все денежные операции хранятся в виде пар дебет/кредит.
Например, Джон перевел Майку 500 долларов.
Система сохраняет транзакцию для обоих пользователей:

```java
John -> Mike, -500, OUTCOME, transaction ID
Mike -> John, +500, INCOME, transaction ID
```
Для восстановления соединения внутри таких пар следует используются идентификаторы каждой транзакции.

Запись о передаче, может быть потеряна в такой сложной системе — она может не быть записана 
для одного из пользователей. 
Поскольку такие ситуации реальны, необходим функционал для отображения всех 
«неподтвержденных переводов» (транзакций, записанных только для одного пользователя) и решения таких проблем.


### Exercise 00 – Models

Разработаны базовые модели предметной области, 
а именно классы пользователей и транзакций.

Для класса User характерен следующий набор состояний (полей):
-	Identifier
-	Name
-	Balance

Класс транзакции описывает денежный перевод между двумя пользователями. 
Здесь также следует определить уникальный идентификатор. 
Поскольку количество таких транзакций может быть очень большим, 
определим идентификатор как строку UUID. 
Таким образом, для класса Transaction характерен следующий набор состояний (полей):-	Identifier
-	Recipient (User type)
-	Sender (User type)
-	Transfer category (debits, credits)
-	Transfer amount

Необходимо проверить начальный баланс пользователя 
(он не может быть отрицательным), а также баланс исходящих 
(только отрицательные суммы) и входящих (только положительные суммы) 
транзакций (использование методов get/set).

Пример использования таких классов содержится в файле программы 
(создание, инициализация, вывод содержимого объекта на консоль). 
Все данные для полей класса жестко запрограммированы в программе.


### Exercise 01 – ID Generator

В данном задании необходимо убедиться, что каждый идентификатор пользователя уникален. 
Для этого создается класс UserIdsGenerator. 
Поведение объекта этого класса определяет функционал генерации 
идентификаторов пользователей.

Класс UserIdsGenerator содержит в качестве своего состояния 
последний сгенерированный идентификатор. 
Поведение UserIdsGenerator определяется методом intgenerId(), 
который возвращает вновь сгенерированный идентификатор при каждом вызове.

Пример использования таких классов содержится в файле программы 
(создание, инициализация, вывод содержимого объекта на консоль).


### Exercise 02 – List of Users

Реализован функционал для хранения пользователей во время работы программы.

Во избежание зависимости логики программы от способа реализации 
пользовательского хранилища, был определен интерфейс UsersList, 
который описывает следующее поведение:
-	Добавить пользователя
- Получить пользователя по ID
- Получить пользователя по индексу
- Получить количество пользователей

Этот интерфейс позволяет разработать бизнес-логику приложения так, 
чтобы конкретная реализация хранилища не влияла на другие компоненты системы.

Также создан класс UsersArrayList, реализующий интерфейс UsersList.

Данный класс использует массив для хранения пользовательских данных. 
Размер массива по умолчанию равен 10. 
Если массив полон, его размер увеличивается вдвое. 
Метод добавления пользователя помещает объект типа User в первую пустую (свободную)
ячейку массива.

В случае попытки получить пользователя с несуществующим идентификатором выбрасывается непроверенное исключение UserNotFoundException.

Пример использования таких классов содержится в файле программы
(создание, инициализация, вывод содержимого объекта на консоль).


### Exercise 03 – List of Transactions

В отличие от пользователей, список транзакций требует особого подхода к реализации. Поскольку количество операций создания транзакций может быть очень большим, нам нужен метод хранения, чтобы избежать дорогостоящего увеличения размера массива.

В этой задаче создан интерфейс TransactionsList, описывающий следующее поведение:

- Добавить транзакцию
- Удалить транзакцию по идентификатору (в данном случае используется строковый идентификатор UUID)
- Преобразование в массив (например, Transaction[] toArray())

Список транзакций реализован в виде связанного списка (LinkedList) 
в классе TransactionsLinkedList. 
Поэтому каждая транзакция должна содержать поле со ссылкой на 
следующий объект транзакции.

Если предпринята попытка удалить транзакцию с несуществующим идентификатором, 
выбрасывается исключение времени выполнения TransactionNotFoundException.

Пример использования таких классов содержится в файле программы
(создание, инициализация, вывод содержимого объекта на консоль).


### Exercise 04 – Business Logic

В этом упражнении создан класс TransactionsService на основе паттерна Фасад, 
способного инкапсулировать поведение нескольких классов, функционалом:

- Добавление пользователя
- Получение баланса пользователя
- Выполнение транзакции перевода (указываются идентификаторы пользователей и сумма перевода). В этом случае создаются две транзакции типа ДЕБЕТ/КРЕДИТ и добавляются к получателю и отправителю. Идентификаторы обеих транзакций идентичны.
- Получение переводов конкретного пользователя (возвращается МАССИВ переводов).
- Удаление транзакции по идентификатору для конкретного пользователя (указывается идентификатор транзакции и идентификатор пользователя)
- Проверка достоверности транзакций (возвращает МАССИВ непарных транзакций). 

 
В случае попытки перевода суммы, превышающей остаточный баланс пользователя, 
выдается исключение времени выполнения IllegalTransactionException.

Пример использования таких классов содержится в файле программы
(создание, инициализация, вывод содержимого объекта на консоль).


### Exercise 05 – Menu
В результате получается работающее приложение с консолью. 
Функциональность меню реализована в соответствующем классе с полем ссылки на 
TransactionsService.

Каждый пункт меню должен сопровождаться номером команды, 
введенной пользователем для вызова действия.

Приложение поддерживать два режима запуска — product (стандартный режим) и 
dev (где информация о передаче для конкретного пользователя может быть удалена 
по идентификатору пользователя, а также может быть запущена функция, 
проверяющая достоверность всех передач).

Если генерируется исключение, появится сообщение, 
содержащее информацию об ошибке, и пользователю будет предоставлена возможность 
ввести действительные данные.

Пример работы приложения:
```
$ java Program --profile=dev

1. Add a user
2. View user balances
3. Perform a transfer
4. View all transactions for a specific user
5. DEV – remove a transfer by ID
6. DEV – check transfer validity
7. Finish execution
-> 1
Enter a user name and a balance
-> Jonh 777
User with id = 1 is added
---------------------------------------------------------
1. Add a user
2. View user balances
3. Perform a transfer
4. View all transactions for a specific user
5. DEV – remove a transfer by ID
6. DEV – check transfer validity
7. Finish execution
-> 1
Enter a user name and a balance
-> Mike 100
User with id = 2 is added
---------------------------------------------------------
1. Add a user
2. View user balances
3. Perform a transfer
4. View all transactions for a specific user
5. DEV – remove a transfer by ID
6. DEV – check transfer validity
7. Finish execution
-> 3
Enter a sender ID, a recipient ID, and a transfer amount
-> 1 2 100
The transfer is completed
---------------------------------------------------------
1. Add a user
2. View user balances
3. Perform a transfer
4. View all transactions for a specific user
5. DEV – remove a transfer by ID
6. DEV – check transfer validity
7. Finish execution
-> 3
Enter a sender ID, a recipient ID, and a transfer amount
-> 1 2 150
The transfer is completed
---------------------------------------------------------
1. Add a user
2. View user balances
3. Perform a transfer
4. View all transactions for a specific user
5. DEV – remove a transfer by ID
6. DEV – check transfer validity
7. Finish execution
-> 3
Enter a sender ID, a recipient ID, and a transfer amount
-> 1 2 50
The transfer is completed
---------------------------------------------------------
1. Add a user
2. View user balances
3. Perform a transfer
4. View all transactions for a specific user
5. DEV – remove a transfer by ID
6. DEV – check transfer validity
7. Finish execution
-> 2
Enter a user ID
-> 2
Mike - 400
---------------------------------------------------------
1. Add a user
2. View user balances
3. Perform a transfer
4. View all transactions for a specific user
5. DEV – remove a transfer by ID
6. DEV – check transfer validity
7. Finish execution
-> 4
Enter a user ID
-> 1
To Mike(id = 2) -100 with id = cc128842-2e5c-4cca-a44c-7829f53fc31f
To Mike(id = 2) -150 with id = 1fc852e7-914f-4bfd-913d-0313aab1ed99
TO Mike(id = 2) -50 with id = ce183f49-5be9-4513-bd05-8bd82214eaba
---------------------------------------------------------
1. Add a user
2. View user balances
3. Perform a transfer
4. View all transactions for a specific user
5. DEV – remove a transfer by ID
6. DEV – check transfer validity
7. Finish execution
-> 5
Enter a user ID and a transfer ID
-> 1 1fc852e7-914f-4bfd-913d-0313aab1ed99
Transfer To Mike(id = 2) 150 removed
---------------------------------------------------------
1. Add a user
2. View user balances
3. Perform a transfer
4. View all transactions for a specific user
5. DEV – remove a transfer by ID
6. DEV – check transfer validity
7. Finish execution
-> 6
Check results:
Mike(id = 2) has an unacknowledged transfer id = 1fc852e7-914f-4bfd-913d-0313aab1ed99 from John(id = 1) for 150
```
